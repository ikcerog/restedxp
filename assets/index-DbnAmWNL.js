var Dn=Object.defineProperty;var _t=e=>{throw TypeError(e)};var qn=(e,t,r)=>t in e?Dn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var g=(e,t,r)=>qn(e,typeof t!="symbol"?t+"":t,r),Pt=(e,t,r)=>t.has(e)||_t("Cannot "+r);var d=(e,t,r)=>(Pt(e,t,"read from private field"),r?r.call(e):t.get(e)),S=(e,t,r)=>t.has(e)?_t("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),E=(e,t,r,n)=>(Pt(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const ae={};function Re(e,t){ae[e]=t}function Fn(){const e=()=>{const t=window.location.hash.slice(1)||"/",[r]=t.split("?");if(ae[r]){ae[r](r,{});return}for(const[n,s]of Object.entries(ae)){const{regex:i,keys:o}=Un(n),a=r.match(i);if(a){const c={};o.forEach((u,l)=>{c[u]=a[l+1]}),s(r,c);return}}ae["*"]&&ae["*"](r,{})};window.addEventListener("hashchange",e),e()}function Un(e){const t=[],r=e.replace(/\//g,"\\/").replace(/:(\w+)/g,(n,s)=>(t.push(s),"([^\\/]+)"));return{regex:new RegExp(`^${r}$`),keys:t}}function Nn(e){if(!e)return;const t=e.getContext("2d");let r=[],n;function s(){e.width=window.innerWidth,e.height=window.innerHeight,i()}function i(){r=Array.from({length:240},()=>({x:Math.random()*e.width,y:Math.random()*e.height,r:Math.random()*1.4+.2,speed:Math.random()*.12+.015,opacity:Math.random()*.65+.15,phase:Math.random()*Math.PI*2,phaseSpeed:Math.random()*.008+.002}))}function o(){t.clearRect(0,0,e.width,e.height);for(const c of r){c.phase+=c.phaseSpeed;const u=c.opacity*(.55+.45*Math.sin(c.phase));if(t.beginPath(),t.arc(c.x,c.y,c.r,0,Math.PI*2),t.fillStyle=`rgba(200, 230, 255, ${u})`,t.fill(),c.r>1){const l=t.createRadialGradient(c.x,c.y,0,c.x,c.y,c.r*4);l.addColorStop(0,`rgba(90, 170, 255, ${u*.18})`),l.addColorStop(1,"rgba(0,0,0,0)"),t.beginPath(),t.arc(c.x,c.y,c.r*4,0,Math.PI*2),t.fillStyle=l,t.fill()}c.y+=c.speed,c.y>e.height+2&&(c.y=-2,c.x=Math.random()*e.width)}n=requestAnimationFrame(o)}const a=new ResizeObserver(s);return a.observe(document.documentElement),s(),o(),()=>{cancelAnimationFrame(n),a.disconnect()}}const Bn="modulepreload",Hn=function(e){return"/restedxp/"+e},jt={},dr=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");s=Promise.allSettled(r.map(c=>{if(c=Hn(c),c in jt)return;jt[c]=!0;const u=c.endsWith(".css"),l=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${l}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Bn,u||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((m,h)=>{f.addEventListener("load",m),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},hr=!(typeof navigator>"u")&&navigator.product==="ReactNative",pr={timeout:hr?6e4:12e4},zn=function(e){const t={...pr,...typeof e=="string"?{url:e}:e};if(t.timeout=yr(t.timeout),t.query){const{url:r,searchParams:n}=function(s){const i=s.indexOf("?");if(i===-1)return{url:s,searchParams:new URLSearchParams};const o=s.slice(0,i),a=s.slice(i+1);if(!hr)return{url:o,searchParams:new URLSearchParams(a)};if(typeof decodeURIComponent!="function")throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");const c=new URLSearchParams;for(const u of a.split("&")){const[l,f]=u.split("=");l&&c.append(Rt(l),Rt(f||""))}return{url:o,searchParams:c}}(t.url);for(const[s,i]of Object.entries(t.query)){if(i!==void 0)if(Array.isArray(i))for(const a of i)n.append(s,a);else n.append(s,i);const o=n.toString();o&&(t.url=`${r}?${o}`)}}return t.method=t.body&&!t.method?"POST":(t.method||"GET").toUpperCase(),t};function Rt(e){return decodeURIComponent(e.replace(/\+/g," "))}function yr(e){if(e===!1||e===0)return!1;if(e.connect||e.socket)return e;const t=Number(e);return isNaN(t)?yr(pr.timeout):{connect:t,socket:t}}const Wn=/^https?:\/\//i,Vn=function(e){if(!Wn.test(e.url))throw new Error(`"${e.url}" is not a valid URL`)};function mr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const Gn=["request","response","progress","error","abort"],Lt=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function vr(e,t){const r=[],n=Lt.reduce((i,o)=>(i[o]=i[o]||[],i),{processOptions:[zn],validateOptions:[Vn]});function s(i){const o=Gn.reduce((h,p)=>(h[p]=function(){const y=Object.create(null);let v=0;return{publish:function(w){for(const b in y)y[b](w)},subscribe:function(w){const b=v++;return y[b]=w,function(){delete y[b]}}}}(),h),{}),a=(h=>function(p,y,...v){const w=p==="onError";let b=y;for(let C=0;C<h[p].length&&(b=(0,h[p][C])(b,...v),!w||b);C++);return b})(n),c=a("processOptions",i);a("validateOptions",c);const u={options:c,channels:o,applyMiddleware:a};let l;const f=o.request.subscribe(h=>{l=t(h,(p,y)=>((v,w,b)=>{let C=v,I=w;if(!C)try{I=a("onResponse",w,b)}catch(_){I=null,C=_}C=C&&a("onError",C,b),C?o.error.publish(C):I&&o.response.publish(I)})(p,y,h))});o.abort.subscribe(()=>{f(),l&&l.abort()});const m=a("onReturn",o,u);return m===o&&o.request.publish(u),m}return s.use=function(i){if(!i)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof i=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(i.onReturn&&n.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return Lt.forEach(o=>{i[o]&&n[o].push(i[o])}),r.push(i),s},s.clone=()=>vr(r,t),e.forEach(s.use),s}var Mt,Dt,Yn=mr(function(){if(Dt)return Mt;Dt=1;var e=function(r){return r.replace(/^\s+|\s+$/g,"")},t=function(r){return Object.prototype.toString.call(r)==="[object Array]"};return Mt=function(r){if(!r)return{};for(var n=Object.create(null),s=e(r).split(`
`),i=0;i<s.length;i++){var o=s[i],a=o.indexOf(":"),c=e(o.slice(0,a)).toLowerCase(),u=e(o.slice(a+1));typeof n[c]>"u"?n[c]=u:t(n[c])?n[c].push(u):n[c]=[n[c],u]}return n}}()),Ee,Se,le,Ce,F,Oe,Ie,fr;let at=(fr=class{constructor(){g(this,"onabort");g(this,"onerror");g(this,"onreadystatechange");g(this,"ontimeout");g(this,"readyState",0);g(this,"response");g(this,"responseText","");g(this,"responseType","");g(this,"status");g(this,"statusText");g(this,"withCredentials");S(this,Ee);S(this,Se);S(this,le);S(this,Ce,{});S(this,F);S(this,Oe,{});S(this,Ie)}open(t,r,n){E(this,Ee,t),E(this,Se,r),E(this,le,""),this.readyState=1,this.onreadystatechange?.(),E(this,F,void 0)}abort(){d(this,F)&&d(this,F).abort()}getAllResponseHeaders(){return d(this,le)}setRequestHeader(t,r){d(this,Ce)[t]=r}setInit(t,r=!0){E(this,Oe,t),E(this,Ie,r)}send(t){const r=this.responseType!=="arraybuffer",n={...d(this,Oe),method:d(this,Ee),headers:d(this,Ce),body:t};typeof AbortController=="function"&&d(this,Ie)&&(E(this,F,new AbortController),typeof EventTarget<"u"&&d(this,F).signal instanceof EventTarget&&(n.signal=d(this,F).signal)),typeof document<"u"&&(n.credentials=this.withCredentials?"include":"omit"),fetch(d(this,Se),n).then(s=>(s.headers.forEach((i,o)=>{E(this,le,d(this,le)+`${o}: ${i}\r
`)}),this.status=s.status,this.statusText=s.statusText,this.readyState=3,this.onreadystatechange?.(),r?s.text():s.arrayBuffer())).then(s=>{typeof s=="string"?this.responseText=s:this.response=s,this.readyState=4,this.onreadystatechange?.()}).catch(s=>{s.name!=="AbortError"?this.onerror?.(s):this.onabort?.()})}},Ee=new WeakMap,Se=new WeakMap,le=new WeakMap,Ce=new WeakMap,F=new WeakMap,Oe=new WeakMap,Ie=new WeakMap,fr);const ct=typeof XMLHttpRequest=="function"?"xhr":"fetch",Qn=ct==="xhr"?XMLHttpRequest:at,Jn=(e,t)=>{const r=e.options,n=e.applyMiddleware("finalizeOptions",r),s={},i=e.applyMiddleware("interceptRequest",void 0,{adapter:ct,context:e});if(i){const y=setTimeout(t,0,null,i);return{abort:()=>clearTimeout(y)}}let o=new Qn;o instanceof at&&typeof n.fetch=="object"&&o.setInit(n.fetch,n.useAbortSignal??!0);const a=n.headers,c=n.timeout;let u=!1,l=!1,f=!1;if(o.onerror=y=>{p(o instanceof at?y instanceof Error?y:new Error(`Request error while attempting to reach is ${n.url}`,{cause:y}):new Error(`Request error while attempting to reach is ${n.url}${y.lengthComputable?`(${y.loaded} of ${y.total} bytes transferred)`:""}`))},o.ontimeout=y=>{p(new Error(`Request timeout while attempting to reach ${n.url}${y.lengthComputable?`(${y.loaded} of ${y.total} bytes transferred)`:""}`))},o.onabort=()=>{h(!0),u=!0},o.onreadystatechange=function(){c&&(h(),s.socket=setTimeout(()=>m("ESOCKETTIMEDOUT"),c.socket)),!u&&o&&o.readyState===4&&o.status!==0&&function(){if(!(u||l||f)){if(o.status===0)return void p(new Error("Unknown XHR error"));h(),l=!0,t(null,{body:o.response||(o.responseType===""||o.responseType==="text"?o.responseText:""),url:n.url,method:n.method,headers:Yn(o.getAllResponseHeaders()),statusCode:o.status,statusMessage:o.statusText})}}()},o.open(n.method,n.url,!0),o.withCredentials=!!n.withCredentials,a&&o.setRequestHeader)for(const y in a)a.hasOwnProperty(y)&&o.setRequestHeader(y,a[y]);return n.rawBody&&(o.responseType="arraybuffer"),e.applyMiddleware("onRequest",{options:n,adapter:ct,request:o,context:e}),o.send(n.body||null),c&&(s.connect=setTimeout(()=>m("ETIMEDOUT"),c.connect)),{abort:function(){u=!0,o&&o.abort()}};function m(y){f=!0,o.abort();const v=new Error(y==="ESOCKETTIMEDOUT"?`Socket timed out on request to ${n.url}`:`Connection timed out on request to ${n.url}`);v.code=y,e.channels.error.publish(v)}function h(y){(y||u||o&&o.readyState>=2&&s.connect)&&clearTimeout(s.connect),s.socket&&clearTimeout(s.socket)}function p(y){if(l)return;h(!0),l=!0,o=null;const v=y||new Error(`Network error while attempting to reach ${n.url}`);v.isNetworkError=!0,v.request=n,t(v)}},Kn=(e=[],t=Jn)=>vr(e,t);var Xn={},qt,Ft,Ut,Nt,Bt,nt={exports:{}};Bt||(Bt=1,function(e,t){t.formatArgs=function(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const s="color: "+this.color;n.splice(1,0,s,"color: inherit");let i=0,o=0;n[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(i++,a==="%c"&&(o=i))}),n.splice(o,0,s)},t.save=function(n){try{n?t.storage.setItem("debug",n):t.storage.removeItem("debug")}catch{}},t.load=function(){let n;try{n=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!n&&typeof process<"u"&&"env"in process&&(n=Xn.DEBUG),n},t.useColors=function(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let n;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(n=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(n[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch{}}(),t.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=(Nt?Ut:(Nt=1,Ut=function(n){function s(a){let c,u,l,f=null;function m(...h){if(!m.enabled)return;const p=m,y=Number(new Date),v=y-(c||y);p.diff=v,p.prev=c,p.curr=y,c=y,h[0]=s.coerce(h[0]),typeof h[0]!="string"&&h.unshift("%O");let w=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,(b,C)=>{if(b==="%%")return"%";w++;const I=s.formatters[C];if(typeof I=="function"){const _=h[w];b=I.call(p,_),h.splice(w,1),w--}return b}),s.formatArgs.call(p,h),(p.log||s.log).apply(p,h)}return m.namespace=a,m.useColors=s.useColors(),m.color=s.selectColor(a),m.extend=i,m.destroy=s.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(u!==s.namespaces&&(u=s.namespaces,l=s.enabled(a)),l),set:h=>{f=h}}),typeof s.init=="function"&&s.init(m),m}function i(a,c){const u=s(this.namespace+(typeof c>"u"?":":c)+a);return u.log=this.log,u}function o(a,c){let u=0,l=0,f=-1,m=0;for(;u<a.length;)if(l<c.length&&(c[l]===a[u]||c[l]==="*"))c[l]==="*"?(f=l,m=u,l++):(u++,l++);else{if(f===-1)return!1;l=f+1,m++,u=m}for(;l<c.length&&c[l]==="*";)l++;return l===c.length}return s.debug=s,s.default=s,s.coerce=function(a){return a instanceof Error?a.stack||a.message:a},s.disable=function(){const a=[...s.names,...s.skips.map(c=>"-"+c)].join(",");return s.enable(""),a},s.enable=function(a){s.save(a),s.namespaces=a,s.names=[],s.skips=[];const c=(typeof a=="string"?a:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const u of c)u[0]==="-"?s.skips.push(u.slice(1)):s.names.push(u)},s.enabled=function(a){for(const c of s.skips)if(o(a,c))return!1;for(const c of s.names)if(o(a,c))return!0;return!1},s.humanize=function(){if(Ft)return qt;Ft=1;var a=1e3,c=60*a,u=60*c,l=24*u,f=7*l;function m(h,p,y,v){var w=p>=1.5*y;return Math.round(h/y)+" "+v+(w?"s":"")}return qt=function(h,p){p=p||{};var y,v,w=typeof h;if(w==="string"&&h.length>0)return function(b){if(!((b=String(b)).length>100)){var C=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(b);if(C){var I=parseFloat(C[1]);switch((C[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*I;case"weeks":case"week":case"w":return I*f;case"days":case"day":case"d":return I*l;case"hours":case"hour":case"hrs":case"hr":case"h":return I*u;case"minutes":case"minute":case"mins":case"min":case"m":return I*c;case"seconds":case"second":case"secs":case"sec":case"s":return I*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return I;default:return}}}}(h);if(w==="number"&&isFinite(h))return p.long?(y=h,(v=Math.abs(y))>=l?m(y,v,l,"day"):v>=u?m(y,v,u,"hour"):v>=c?m(y,v,c,"minute"):v>=a?m(y,v,a,"second"):y+" ms"):function(b){var C=Math.abs(b);return C>=l?Math.round(b/l)+"d":C>=u?Math.round(b/u)+"h":C>=c?Math.round(b/c)+"m":C>=a?Math.round(b/a)+"s":b+"ms"}(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))}}(),s.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(n).forEach(a=>{s[a]=n[a]}),s.names=[],s.skips=[],s.formatters={},s.selectColor=function(a){let c=0;for(let u=0;u<a.length;u++)c=(c<<5)-c+a.charCodeAt(u),c|=0;return s.colors[Math.abs(c)%s.colors.length]},s.enable(s.load()),s}))(t);const{formatters:r}=e.exports;r.j=function(n){try{return JSON.stringify(n)}catch(s){return"[UnexpectedJSONParseError]: "+s.message}}}(nt,nt.exports)),nt.exports;const Zn=typeof Buffer>"u"?()=>!1:e=>Buffer.isBuffer(e);function Ht(e){return Object.prototype.toString.call(e)==="[object Object]"}function es(e){if(Ht(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(Ht(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)}const ts=["boolean","string","number"];function rs(){return{processOptions:e=>{const t=e.body;return!t||typeof t.pipe=="function"||Zn(t)||ts.indexOf(typeof t)===-1&&!Array.isArray(t)&&!es(t)?e:Object.assign({},e,{body:JSON.stringify(e.body),headers:Object.assign({},e.headers,{"Content-Type":"application/json"})})}}}function ns(e){return{onResponse:r=>{const n=r.headers["content-type"]||"",s=e&&e.force||n.indexOf("application/json")!==-1;return r.body&&n&&s?Object.assign({},r,{body:t(r.body)}):r},processOptions:r=>Object.assign({},r,{headers:Object.assign({Accept:"application/json"},r.headers)})};function t(r){try{return JSON.parse(r)}catch(n){throw n.message=`Failed to parsed response body as JSON: ${n.message}`,n}}}let ve={};typeof globalThis<"u"?ve=globalThis:typeof window<"u"?ve=window:typeof global<"u"?ve=global:typeof self<"u"&&(ve=self);var ss=ve;function is(e={}){const t=e.implementation||ss.Observable;if(!t)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(r,n)=>new t(s=>(r.error.subscribe(i=>s.error(i)),r.progress.subscribe(i=>s.next(Object.assign({type:"progress"},i))),r.response.subscribe(i=>{s.next(Object.assign({type:"response"},i)),s.complete()}),r.request.publish(n),()=>r.abort.publish()))}}function os(){return{onRequest:e=>{if(e.adapter!=="xhr")return;const t=e.request,r=e.context;function n(s){return i=>{const o=i.lengthComputable?i.loaded/i.total*100:-1;r.channels.progress.publish({stage:s,percent:o,total:i.total,loaded:i.loaded,lengthComputable:i.lengthComputable})}}"upload"in t&&"onprogress"in t.upload&&(t.upload.onprogress=n("upload")),"onprogress"in t&&(t.onprogress=n("download"))}}}var gr=(e,t,r)=>(r.method==="GET"||r.method==="HEAD")&&(e.isNetworkError||!1);function as(e){return 100*Math.pow(2,e)+100*Math.random()}const pt=(e={})=>(t=>{const r=t.maxRetries||5,n=t.retryDelay||as,s=t.shouldRetry;return{onError:(i,o)=>{const a=o.options,c=a.maxRetries||r,u=a.retryDelay||n,l=a.shouldRetry||s,f=a.attemptNumber||0;if((m=a.body)!==null&&typeof m=="object"&&typeof m.pipe=="function"||!l(i,f,a)||f>=c)return i;var m;const h=Object.assign({},o,{options:Object.assign({},a,{attemptNumber:f+1})});return setTimeout(()=>o.channels.request.publish(h),u(f)),null}}})({shouldRetry:gr,...e});pt.shouldRetry=gr;var ut=function(e,t){return ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},ut(e,t)};function W(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ut(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function cs(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(l){try{u(n.next(l))}catch(f){o(f)}}function c(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})}function br(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(l){u=[6,l],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function he(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function H(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function z(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function ce(e){return this instanceof ce?(this.v=e,this):new ce(e)}function us(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(h){return function(p){return Promise.resolve(p).then(h,f)}}function a(h,p){n[h]&&(s[h]=function(y){return new Promise(function(v,w){i.push([h,y,v,w])>1||c(h,y)})},p&&(s[h]=p(s[h])))}function c(h,p){try{u(n[h](p))}catch(y){m(i[0][3],y)}}function u(h){h.value instanceof ce?Promise.resolve(h.value.v).then(l,f):m(i[0][2],h)}function l(h){c("next",h)}function f(h){c("throw",h)}function m(h,p){h(p),i.shift(),i.length&&c(i[0][0],i[0][1])}}function ls(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof he=="function"?he(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(a,c){o=e[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}}function O(e){return typeof e=="function"}function yt(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var st=yt(function(e){return function(r){e(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,s){return s+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function We(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var Le=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,s,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=he(o),c=a.next();!c.done;c=a.next()){var u=c.value;u.remove(this)}}catch(y){t={error:y}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}else o.remove(this);var l=this.initialTeardown;if(O(l))try{l()}catch(y){i=y instanceof st?y.errors:[y]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var m=he(f),h=m.next();!h.done;h=m.next()){var p=h.value;try{zt(p)}catch(y){i=i??[],y instanceof st?i=z(z([],H(i)),H(y.errors)):i.push(y)}}}catch(y){n={error:y}}finally{try{h&&!h.done&&(s=m.return)&&s.call(m)}finally{if(n)throw n.error}}}if(i)throw new st(i)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)zt(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&We(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&We(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),wr=Le.EMPTY;function Er(e){return e instanceof Le||e&&"closed"in e&&O(e.remove)&&O(e.add)&&O(e.unsubscribe)}function zt(e){O(e)?e():e.unsubscribe()}var fs={Promise:void 0},ds={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,z([e,t],H(r)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function Sr(e){ds.setTimeout(function(){throw e})}function Wt(){}function ze(e){e()}var mt=function(e){W(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,Er(r)&&r.add(n)):n.destination=ys,n}return t.create=function(r,n,s){return new we(r,n,s)},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Le),hs=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){Be(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){Be(n)}else Be(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){Be(r)}},e}(),we=function(e){W(t,e);function t(r,n,s){var i=e.call(this)||this,o;return O(r)||!r?o={next:r??void 0,error:n??void 0,complete:s??void 0}:o=r,i.destination=new hs(o),i}return t}(mt);function Be(e){Sr(e)}function ps(e){throw e}var ys={closed:!0,next:Wt,error:ps,complete:Wt},vt=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Ze(e){return e}function ms(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Cr(e)}function Cr(e){return e.length===0?Ze:e.length===1?e[0]:function(r){return e.reduce(function(n,s){return s(n)},r)}}var A=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var s=this,i=gs(t)?t:new we(t,r,n);return ze(function(){var o=s,a=o.operator,c=o.source;i.add(a?a.call(i,c):c?s._subscribe(i):s._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=Vt(r),new r(function(s,i){var o=new we({next:function(a){try{t(a)}catch(c){i(c),o.unsubscribe()}},error:i,complete:s});n.subscribe(o)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[vt]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Cr(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=Vt(t),new t(function(n,s){var i;r.subscribe(function(o){return i=o},function(o){return s(o)},function(){return n(i)})})},e.create=function(t){return new e(t)},e}();function Vt(e){var t;return(t=e??fs.Promise)!==null&&t!==void 0?t:Promise}function vs(e){return e&&O(e.next)&&O(e.error)&&O(e.complete)}function gs(e){return e&&e instanceof mt||vs(e)&&Er(e)}function bs(e){return O(e?.lift)}function D(e){return function(t){if(bs(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function te(e,t,r,n,s){return new ws(e,t,r,n,s)}var ws=function(e){W(t,e);function t(r,n,s,i,o,a){var c=e.call(this,r)||this;return c.onFinalize=o,c.shouldUnsubscribe=a,c._next=n?function(u){try{n(u)}catch(l){r.error(l)}}:e.prototype._next,c._error=i?function(u){try{i(u)}catch(l){r.error(l)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=s?function(){try{s()}catch(u){r.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},t}(mt),Es=yt(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),gt=function(e){W(t,e);function t(){var r=e.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype.lift=function(r){var n=new Gt(this,this);return n.operator=r,n},t.prototype._throwIfClosed=function(){if(this.closed)throw new Es},t.prototype.next=function(r){var n=this;ze(function(){var s,i;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var o=he(n.currentObservers),a=o.next();!a.done;a=o.next()){var c=a.value;c.next(r)}}catch(u){s={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(s)throw s.error}}}})},t.prototype.error=function(r){var n=this;ze(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var s=n.observers;s.length;)s.shift().error(r)}})},t.prototype.complete=function(){var r=this;ze(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(r){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},t.prototype._innerSubscribe=function(r){var n=this,s=this,i=s.hasError,o=s.isStopped,a=s.observers;return i||o?wr:(this.currentObservers=null,a.push(r),new Le(function(){n.currentObservers=null,We(a,r)}))},t.prototype._checkFinalizedStatuses=function(r){var n=this,s=n.hasError,i=n.thrownError,o=n.isStopped;s?r.error(i):o&&r.complete()},t.prototype.asObservable=function(){var r=new A;return r.source=this,r},t.create=function(r,n){return new Gt(r,n)},t}(A),Gt=function(e){W(t,e);function t(r,n){var s=e.call(this)||this;return s.destination=r,s.source=n,s}return t.prototype.next=function(r){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.next)===null||s===void 0||s.call(n,r)},t.prototype.error=function(r){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.error)===null||s===void 0||s.call(n,r)},t.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},t.prototype._subscribe=function(r){var n,s;return(s=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&s!==void 0?s:wr},t}(gt),bt={now:function(){return(bt.delegate||Date).now()},delegate:void 0},Ss=function(e){W(t,e);function t(r,n,s){r===void 0&&(r=1/0),n===void 0&&(n=1/0),s===void 0&&(s=bt);var i=e.call(this)||this;return i._bufferSize=r,i._windowTime=n,i._timestampProvider=s,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,r),i._windowTime=Math.max(1,n),i}return t.prototype.next=function(r){var n=this,s=n.isStopped,i=n._buffer,o=n._infiniteTimeWindow,a=n._timestampProvider,c=n._windowTime;s||(i.push(r),!o&&i.push(a.now()+c)),this._trimBuffer(),e.prototype.next.call(this,r)},t.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),s=this,i=s._infiniteTimeWindow,o=s._buffer,a=o.slice(),c=0;c<a.length&&!r.closed;c+=i?1:2)r.next(a[c]);return this._checkFinalizedStatuses(r),n},t.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,s=r._timestampProvider,i=r._buffer,o=r._infiniteTimeWindow,a=(o?1:2)*n;if(n<1/0&&a<i.length&&i.splice(0,i.length-a),!o){for(var c=s.now(),u=0,l=1;l<i.length&&i[l]<=c;l+=2)u=l;u&&i.splice(0,u+1)}},t}(gt),Cs=function(e){W(t,e);function t(r,n){return e.call(this)||this}return t.prototype.schedule=function(r,n){return this},t}(Le),Yt={setInterval:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setInterval.apply(void 0,z([e,t],H(r)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},Os=function(e){W(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.pending=!1,s}return t.prototype.schedule=function(r,n){var s;if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(s=this.id)!==null&&s!==void 0?s:this.requestAsyncId(o,this.id,n),this},t.prototype.requestAsyncId=function(r,n,s){return s===void 0&&(s=0),Yt.setInterval(r.flush.bind(r,this),s)},t.prototype.recycleAsyncId=function(r,n,s){if(s===void 0&&(s=0),s!=null&&this.delay===s&&this.pending===!1)return n;n!=null&&Yt.clearInterval(n)},t.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var s=this._execute(r,n);if(s)return s;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(r,n){var s=!1,i;try{this.work(r)}catch(o){s=!0,i=o||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,s=r.scheduler,i=s.actions;this.work=this.state=this.scheduler=null,this.pending=!1,We(i,this),n!=null&&(this.id=this.recycleAsyncId(s,n,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Cs),Qt=function(){function e(t,r){r===void 0&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(t,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,t).schedule(n,r)},e.now=bt.now,e}(),Is=function(e){W(t,e);function t(r,n){n===void 0&&(n=Qt.now);var s=e.call(this,r,n)||this;return s.actions=[],s._active=!1,s}return t.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var s;this._active=!0;do if(s=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,s){for(;r=n.shift();)r.unsubscribe();throw s}},t}(Qt),As=new Is(Os),xs=As,Or=new A(function(e){return e.complete()});function $s(e){return e&&O(e.schedule)}function wt(e){return e[e.length-1]}function Ts(e){return O(wt(e))?e.pop():void 0}function Et(e){return $s(wt(e))?e.pop():void 0}function ks(e,t){return typeof wt(e)=="number"?e.pop():t}var Ir=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Ar(e){return O(e?.then)}function xr(e){return O(e[vt])}function $r(e){return Symbol.asyncIterator&&O(e?.[Symbol.asyncIterator])}function Tr(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function _s(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var kr=_s();function _r(e){return O(e?.[kr])}function Pr(e){return us(this,arguments,function(){var r,n,s,i;return br(this,function(o){switch(o.label){case 0:r=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,ce(r.read())];case 3:return n=o.sent(),s=n.value,i=n.done,i?[4,ce(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,ce(s)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function jr(e){return O(e?.getReader)}function q(e){if(e instanceof A)return e;if(e!=null){if(xr(e))return Ps(e);if(Ir(e))return js(e);if(Ar(e))return Rs(e);if($r(e))return Rr(e);if(_r(e))return Ls(e);if(jr(e))return Ms(e)}throw Tr(e)}function Ps(e){return new A(function(t){var r=e[vt]();if(O(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function js(e){return new A(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function Rs(e){return new A(function(t){e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,Sr)})}function Ls(e){return new A(function(t){var r,n;try{for(var s=he(e),i=s.next();!i.done;i=s.next()){var o=i.value;if(t.next(o),t.closed)return}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}t.complete()})}function Rr(e){return new A(function(t){Ds(e,t).catch(function(r){return t.error(r)})})}function Ms(e){return Rr(Pr(e))}function Ds(e,t){var r,n,s,i;return cs(this,void 0,void 0,function(){var o,a;return br(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=ls(e),c.label=1;case 1:return[4,r.next()];case 2:if(n=c.sent(),!!n.done)return[3,4];if(o=n.value,t.next(o),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),s={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function se(e,t,r,n,s){n===void 0&&(n=0),s===void 0&&(s=!1);var i=t.schedule(function(){r(),s?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(i),!s)return i}function Lr(e,t){return t===void 0&&(t=0),D(function(r,n){r.subscribe(te(n,function(s){return se(n,e,function(){return n.next(s)},t)},function(){return se(n,e,function(){return n.complete()},t)},function(s){return se(n,e,function(){return n.error(s)},t)}))})}function Mr(e,t){return t===void 0&&(t=0),D(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}function qs(e,t){return q(e).pipe(Mr(t),Lr(t))}function Fs(e,t){return q(e).pipe(Mr(t),Lr(t))}function Us(e,t){return new A(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}function Ns(e,t){return new A(function(r){var n;return se(r,t,function(){n=e[kr](),se(r,t,function(){var s,i,o;try{s=n.next(),i=s.value,o=s.done}catch(a){r.error(a);return}o?r.complete():r.next(i)},0,!0)}),function(){return O(n?.return)&&n.return()}})}function Dr(e,t){if(!e)throw new Error("Iterable cannot be null");return new A(function(r){se(r,t,function(){var n=e[Symbol.asyncIterator]();se(r,t,function(){n.next().then(function(s){s.done?r.complete():r.next(s.value)})},0,!0)})})}function Bs(e,t){return Dr(Pr(e),t)}function Hs(e,t){if(e!=null){if(xr(e))return qs(e,t);if(Ir(e))return Us(e,t);if(Ar(e))return Fs(e,t);if($r(e))return Dr(e,t);if(_r(e))return Ns(e,t);if(jr(e))return Bs(e,t)}throw Tr(e)}function Me(e,t){return t?Hs(e,t):q(e)}function et(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Et(e);return Me(e,r)}function qr(e,t){var r=O(e)?e:function(){return e},n=function(s){return s.error(r())};return new A(n)}function zs(e){return!!e&&(e instanceof A||O(e.lift)&&O(e.subscribe))}var Ws=yt(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function T(e,t){return new Promise(function(r,n){var s=!1,i;e.subscribe({next:function(o){i=o,s=!0},error:n,complete:function(){s?r(i):n(new Ws)}})})}function Vs(e){return e instanceof Date&&!isNaN(e)}function k(e,t){return D(function(r,n){var s=0;r.subscribe(te(n,function(i){n.next(e.call(t,i,s++))}))})}var Gs=Array.isArray;function Ys(e,t){return Gs(t)?e.apply(void 0,z([],H(t))):e(t)}function Qs(e){return k(function(t){return Ys(e,t)})}function Js(e,t,r){return r===void 0&&(r=Ze),function(n){Jt(t,function(){for(var s=e.length,i=new Array(s),o=s,a=s,c=function(l){Jt(t,function(){var f=Me(e[l],t),m=!1;f.subscribe(te(n,function(h){i[l]=h,m||(m=!0,a--),a||n.next(r(i.slice()))},function(){--o||n.complete()}))},n)},u=0;u<s;u++)c(u)})}}function Jt(e,t,r){t()}function Ks(e,t,r,n,s,i,o,a){var c=[],u=0,l=0,f=!1,m=function(){f&&!c.length&&!u&&t.complete()},h=function(y){return u<n?p(y):c.push(y)},p=function(y){u++;var v=!1;q(r(y,l++)).subscribe(te(t,function(w){t.next(w)},function(){v=!0},void 0,function(){if(v)try{u--;for(var w=function(){var b=c.shift();o||p(b)};c.length&&u<n;)w();m()}catch(b){t.error(b)}}))};return e.subscribe(te(t,h,function(){f=!0,m()})),function(){}}function De(e,t,r){return r===void 0&&(r=1/0),O(t)?De(function(n,s){return k(function(i,o){return t(n,i,s,o)})(q(e(n,s)))},r):(typeof t=="number"&&(r=t),D(function(n,s){return Ks(n,s,e,r)}))}function Fr(e){return e===void 0&&(e=1/0),De(Ze,e)}function Xs(){return Fr(1)}function Ur(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Xs()(Me(e,Et(e)))}function Nr(e){return new A(function(t){q(e()).subscribe(t)})}function Zs(e,t,r){return r===void 0&&(r=xs),new A(function(n){var s=Vs(e)?+e-r.now():e;s<0&&(s=0);var i=0;return r.schedule(function(){n.closed||(n.next(i++),n.complete())},s)})}function ei(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Et(e),n=ks(e,1/0),s=e;return s.length?s.length===1?q(s[0]):Fr(n)(Me(s,r)):Or}var ti=Array.isArray;function ri(e){return e.length===1&&ti(e[0])?e[0]:e}function pe(e,t){return D(function(r,n){var s=0;r.subscribe(te(n,function(i){return e.call(t,i,s++)&&n.next(i)}))})}function St(e){return D(function(t,r){var n=null,s=!1,i;n=t.subscribe(te(r,void 0,void 0,function(o){i=q(e(o,St(e)(t))),n?(n.unsubscribe(),n=null,i.subscribe(r)):s=!0})),s&&(n.unsubscribe(),n=null,i.subscribe(r))})}function Br(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Ts(e);return r?ms(Br.apply(void 0,z([],H(e))),Qs(r)):D(function(n,s){Js(z([n],H(ri(e))))(s)})}function ni(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Br.apply(void 0,z([],H(e)))}function Hr(e){return D(function(t,r){try{t.subscribe(r)}finally{r.add(e)}})}function zr(e){e===void 0&&(e={});var t=e.connector,r=t===void 0?function(){return new gt}:t,n=e.resetOnError,s=n===void 0?!0:n,i=e.resetOnComplete,o=i===void 0?!0:i,a=e.resetOnRefCountZero,c=a===void 0?!0:a;return function(u){var l,f,m,h=0,p=!1,y=!1,v=function(){f?.unsubscribe(),f=void 0},w=function(){v(),l=m=void 0,p=y=!1},b=function(){var C=l;w(),C?.unsubscribe()};return D(function(C,I){h++,!y&&!p&&v();var _=m=m??r();I.add(function(){h--,h===0&&!y&&!p&&(f=it(b,c))}),_.subscribe(I),!l&&h>0&&(l=new we({next:function(P){return _.next(P)},error:function(P){y=!0,v(),f=it(w,s,P),_.error(P)},complete:function(){p=!0,v(),f=it(w,o),_.complete()}}),q(C).subscribe(l))})(u)}}function it(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(t===!0){e();return}if(t!==!1){var s=new we({next:function(){s.unsubscribe(),e()}});return q(t.apply(void 0,z([],H(r)))).subscribe(s)}}function si(e,t,r){var n,s=!1;return n=e,zr({connector:function(){return new Ss(n,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function ii(e,t,r){var n=O(e)||t||r?{next:e,error:t,complete:r}:e;return n?D(function(s,i){var o;(o=n.subscribe)===null||o===void 0||o.call(n);var a=!0;s.subscribe(te(i,function(c){var u;(u=n.next)===null||u===void 0||u.call(n,c),i.next(c)},function(){var c;a=!1,(c=n.complete)===null||c===void 0||c.call(n),i.complete()},function(c){var u;a=!1,(u=n.error)===null||u===void 0||u.call(n,c),i.error(c)},function(){var c,u;a&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):Ze}var Wr={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},Ct={0:8203,1:8204,2:8205,3:65279},oi=new Array(4).fill(String.fromCodePoint(Ct[0])).join("");function ai(e){let t=JSON.stringify(e);return`${oi}${Array.from(t).map(r=>{let n=r.charCodeAt(0);if(n>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${t} on character ${r} (${n})`);return Array.from(n.toString(4).padStart(4,"0")).map(s=>String.fromCodePoint(Ct[s])).join("")}).join("")}`}function ci(e){return!Number.isNaN(Number(e))||/[a-z]/i.test(e)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(e)?!1:!!Date.parse(e)}function ui(e){try{new URL(e,e.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function Ta(e,t,r="auto"){return r===!0||r==="auto"&&(ci(e)||ui(e))?e:`${e}${ai(t)}`}Object.fromEntries(Object.entries(Ct).map(e=>e.reverse()));Object.fromEntries(Object.entries(Wr).map(e=>e.reverse()));var li=`${Object.values(Wr).map(e=>`\\u{${e.toString(16)}}`).join("")}`,Kt=new RegExp(`[${li}]{4,}`,"gu");function fi(e){var t;return{cleaned:e.replace(Kt,""),encoded:((t=e.match(Kt))==null?void 0:t[0])||""}}function di(e){return e&&JSON.parse(fi(JSON.stringify(e)).cleaned)}function hi(e){return di(e)}class pi extends Error{constructor(r){const n=Vr(r);super(n.message);g(this,"response");g(this,"statusCode",400);g(this,"responseBody");g(this,"details");Object.assign(this,n)}}class yi extends Error{constructor(r){const n=Vr(r);super(n.message);g(this,"response");g(this,"statusCode",500);g(this,"responseBody");g(this,"details");Object.assign(this,n)}}function Vr(e){const t=e.body,r={response:e,statusCode:e.statusCode,responseBody:bi(t,e),message:"",details:void 0};if(t.error&&t.message)return r.message=`${t.error} - ${t.message}`,r;if(mi(t)||vi(t)){const n=t.error.items||[],s=n.slice(0,5).map(o=>o.error?.description).filter(Boolean);let i=s.length?`:
- ${s.join(`
- `)}`:"";return n.length>5&&(i+=`
...and ${n.length-5} more`),r.message=`${t.error.description}${i}`,r.details=t.error,r}return t.error&&t.error.description?(r.message=t.error.description,r.details=t.error,r):(r.message=t.error||t.message||gi(e),r)}function mi(e){return Ve(e)&&Ve(e.error)&&e.error.type==="mutationError"&&typeof e.error.description=="string"}function vi(e){return Ve(e)&&Ve(e.error)&&e.error.type==="actionError"&&typeof e.error.description=="string"}function Ve(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function gi(e){const t=e.statusMessage?` ${e.statusMessage}`:"";return`${e.method}-request to ${e.url} resulted in HTTP ${e.statusCode}${t}`}function bi(e,t){return(t.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(e,null,2):e}class wi extends Error{constructor({projectId:r}){super("CorsOriginError");g(this,"projectId");g(this,"addOriginUrl");this.name="CorsOriginError",this.projectId=r;const n=new URL(`https://sanity.io/manage/project/${r}/api`);if(typeof location<"u"){const{origin:s}=location;n.searchParams.set("cors","add"),n.searchParams.set("origin",s),this.addOriginUrl=n,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${n}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${n}`}}const Ei={onResponse:e=>{if(e.statusCode>=500)throw new yi(e);if(e.statusCode>=400)throw new pi(e);return e}};function Si(){const e={};return{onResponse:t=>{const r=t.headers["x-sanity-warning"],n=Array.isArray(r)?r:[r];for(const s of n)!s||e[s]||(e[s]=!0,console.warn(s));return t}}}function Xt(e){return Kn([pt({shouldRetry:Ci}),...e,Si(),rs(),ns(),os(),Ei,is({implementation:A})])}function Ci(e,t,r){if(r.maxRetries===0)return!1;const n=r.method==="GET"||r.method==="HEAD",s=(r.uri||r.url).startsWith("/data/query"),i=e.response&&(e.response.statusCode===429||e.response.statusCode===502||e.response.statusCode===503);return(n||s)&&i?!0:pt.shouldRetry(e,t,r)}const Oi="https://www.sanity.io/help/";function Ot(e){return Oi+e}const Zt=["image","file"],er=["before","after","replace"],Gr=e=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(e))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},Ii=e=>{if(!/^[-a-z0-9]+$/i.test(e))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},Ai=e=>{if(Zt.indexOf(e)===-1)throw new Error(`Invalid asset type: ${e}. Must be one of ${Zt.join(", ")}`)},ge=(e,t)=>{if(t===null||typeof t!="object"||Array.isArray(t))throw new Error(`${e}() takes an object of properties`)},Yr=(e,t)=>{if(typeof t!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(t)||t.includes(".."))throw new Error(`${e}(): "${t}" is not a valid document ID`)},Ge=(e,t)=>{if(!t._id)throw new Error(`${e}() requires that the document contains an ID ("_id" property)`);Yr(e,t._id)},xi=(e,t,r)=>{const n="insert(at, selector, items)";if(er.indexOf(e)===-1){const s=er.map(i=>`"${i}"`).join(", ");throw new Error(`${n} takes an "at"-argument which is one of: ${s}`)}if(typeof t!="string")throw new Error(`${n} takes a "selector"-argument which must be a string`);if(!Array.isArray(r))throw new Error(`${n} takes an "items"-argument which must be an array`)},Qr=e=>{if(!e.dataset)throw new Error("`dataset` must be provided to perform queries");return e.dataset||""},Jr=e=>{if(typeof e!="string"||!/^[a-z0-9._-]{1,75}$/i.test(e))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return e},Kr=e=>{if(!e["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:t,id:r}=e["~experimental_resource"];switch(t){case"dataset":{if(r.split(".").length!==2)throw new Error('Dataset resource ID must be in the format "project.dataset"');return}case"dashboard":case"media-library":case"canvas":return;default:throw new Error(`Unsupported resource type: ${t.toString()}`)}},M=(e,t)=>{if(t["~experimental_resource"])throw new Error(`\`${e}\` does not support resource-based operations`)};function $i(e){let t=!1,r;return(...n)=>(t||(r=e(...n),t=!0),r)}const oe=e=>$i((...t)=>console.warn(e.join(" "),...t)),Ti=oe(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),ki=oe(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),_i=oe(["The Sanity client is configured with the `perspective` set to `drafts` or `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),Pi=oe(["The `previewDrafts` perspective has been renamed to  `drafts` and will be removed in a future API version"]),ji=oe(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${Ot("js-client-browser-token")} for more information and how to hide this warning.`]),Ri=oe(["You have configured Sanity client to use a token, but also provided `withCredentials: true`.","This is no longer supported - only token will be used - remove `withCredentials: true`."]),Li=oe(["Using the Sanity client without specifying an API version is deprecated.",`See ${Ot("js-client-api-version")}`]),Mi="apicdn.sanity.io",be={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},Di=["localhost","127.0.0.1","0.0.0.0"],qi=e=>Di.indexOf(e)!==-1;function Fi(e){if(e==="1"||e==="X")return;const t=new Date(e);if(!(/^\d{4}-\d{2}-\d{2}$/.test(e)&&t instanceof Date&&t.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}function Xr(e){if(Array.isArray(e)&&e.length>1&&e.includes("raw"))throw new TypeError('Invalid API perspective value: "raw". The raw-perspective can not be combined with other perspectives')}const Zr=(e,t)=>{const r={...t,...e,stega:{...typeof t.stega=="boolean"?{enabled:t.stega}:t.stega||be.stega,...typeof e.stega=="boolean"?{enabled:e.stega}:e.stega||{}}};r.apiVersion||Li();const n={...be,...r},s=n.useProjectHostname&&!n["~experimental_resource"];if(typeof Promise>"u"){const m=Ot("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${m}`)}if(s&&!n.projectId)throw new Error("Configuration must contain `projectId`");if(n["~experimental_resource"]&&Kr(n),typeof n.perspective<"u"&&Xr(n.perspective),"encodeSourceMap"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if(typeof n.stega.enabled!="boolean")throw new Error(`stega.enabled must be a boolean, received ${n.stega.enabled}`);if(n.stega.enabled&&n.stega.studioUrl===void 0)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(n.stega.enabled&&typeof n.stega.studioUrl!="string"&&typeof n.stega.studioUrl!="function")throw new Error(`stega.studioUrl must be a string or a function, received ${n.stega.studioUrl}`);const i=typeof window<"u"&&window.location&&window.location.hostname,o=i&&qi(window.location.hostname),a=!!n.token;n.withCredentials&&a&&(Ri(),n.withCredentials=!1),i&&o&&a&&n.ignoreBrowserTokenWarning!==!0?ji():typeof n.useCdn>"u"&&ki(),s&&Ii(n.projectId),n.dataset&&Gr(n.dataset),"requestTagPrefix"in n&&(n.requestTagPrefix=n.requestTagPrefix?Jr(n.requestTagPrefix).replace(/\.+$/,""):void 0),n.apiVersion=`${n.apiVersion}`.replace(/^v/,""),n.isDefaultApi=n.apiHost===be.apiHost,n.useCdn===!0&&n.withCredentials&&Ti(),n.useCdn=n.useCdn!==!1&&!n.withCredentials,Fi(n.apiVersion);const c=n.apiHost.split("://",2),u=c[0],l=c[1],f=n.isDefaultApi?Mi:l;return s?(n.url=`${u}://${n.projectId}.${l}/v${n.apiVersion}`,n.cdnUrl=`${u}://${n.projectId}.${f}/v${n.apiVersion}`):(n.url=`${n.apiHost}/v${n.apiVersion}`,n.cdnUrl=n.url),n};class en extends Error{constructor(){super(...arguments);g(this,"name","ConnectionFailedError")}}class Ui extends Error{constructor(r,n,s={}){super(r,s);g(this,"name","DisconnectError");g(this,"reason");this.reason=n}}class Ni extends Error{constructor(r,n){super(r);g(this,"name","ChannelError");g(this,"data");this.data=n}}class Bi extends Error{constructor(r,n,s={}){super(r,s);g(this,"name","MessageError");g(this,"data");this.data=n}}class tr extends Error{constructor(){super(...arguments);g(this,"name","MessageParseError")}}const Hi=["channelError","disconnect"];function tn(e,t){return Nr(()=>{const r=e();return zs(r)?r:et(r)}).pipe(De(r=>zi(r,t)))}function zi(e,t){return new A(r=>{const n=t.includes("open"),s=t.includes("reconnect");function i(u){if("data"in u){const[l,f]=rr(u);r.error(l?new tr("Unable to parse EventSource error message",{cause:f}):new Bi((f?.data).message,f));return}e.readyState===e.CLOSED?r.error(new en("EventSource connection failed")):s&&r.next({type:"reconnect"})}function o(){r.next({type:"open"})}function a(u){const[l,f]=rr(u);if(l){r.error(new tr("Unable to parse EventSource message",{cause:l}));return}if(u.type==="channelError"){r.error(new Ni(Wi(f?.data),f.data));return}if(u.type==="disconnect"){r.error(new Ui(`Server disconnected client: ${f.data?.reason||"unknown error"}`));return}r.next({type:u.type,id:u.lastEventId,...f.data?{data:f.data}:{}})}e.addEventListener("error",i),n&&e.addEventListener("open",o);const c=[...new Set([...Hi,...t])].filter(u=>u!=="error"&&u!=="open"&&u!=="reconnect");return c.forEach(u=>e.addEventListener(u,a)),()=>{e.removeEventListener("error",i),n&&e.removeEventListener("open",o),c.forEach(u=>e.removeEventListener(u,a)),e.close()}})}function rr(e){try{const t=typeof e.data=="string"&&JSON.parse(e.data);return[null,{type:e.type,id:e.lastEventId,...Vi(t)?{}:{data:t}}]}catch(t){return[t,null]}}function Wi(e){return e.error?e.error.description?e.error.description:typeof e.error=="string"?e.error:JSON.stringify(e.error,null,2):e.message||"Unknown listener error"}function Vi(e){for(const t in e)return!1;return!0}function rn(e){if(typeof e=="string")return{id:e};if(Array.isArray(e))return{query:"*[_id in $ids]",params:{ids:e}};if(typeof e=="object"&&e!==null&&"query"in e&&typeof e.query=="string")return"params"in e&&typeof e.params=="object"&&e.params!==null?{query:e.query,params:e.params}:{query:e.query};const t=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${t}`)}class nn{constructor(t,r={}){g(this,"selection");g(this,"operations");this.selection=t,this.operations=r}set(t){return this._assign("set",t)}setIfMissing(t){return this._assign("setIfMissing",t)}diffMatchPatch(t){return ge("diffMatchPatch",t),this._assign("diffMatchPatch",t)}unset(t){if(!Array.isArray(t))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:t}),this}inc(t){return this._assign("inc",t)}dec(t){return this._assign("dec",t)}insert(t,r,n){return xi(t,r,n),this._assign("insert",{[t]:r,items:n})}append(t,r){return this.insert("after",`${t}[-1]`,r)}prepend(t,r){return this.insert("before",`${t}[0]`,r)}splice(t,r,n,s){const i=typeof n>"u"||n===-1,o=r<0?r-1:r,a=i?-1:Math.max(0,r+n),c=o<0&&a>=0?"":a,u=`${t}[${o}:${c}]`;return this.insert("replace",u,s||[])}ifRevisionId(t){return this.operations.ifRevisionID=t,this}serialize(){return{...rn(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(t,r,n=!0){return ge(t,r),this.operations=Object.assign({},this.operations,{[t]:Object.assign({},n&&this.operations[t]||{},r)}),this}_set(t,r){return this._assign(t,r,!1)}}var re;const xt=class xt extends nn{constructor(r,n,s){super(r,n);S(this,re);E(this,re,s)}clone(){return new xt(this.selection,{...this.operations},d(this,re))}commit(r){if(!d(this,re))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",s=Object.assign({returnFirst:n,returnDocuments:!0},r);return d(this,re).mutate({patch:this.serialize()},s)}};re=new WeakMap;let ie=xt;var ne;const $t=class $t extends nn{constructor(r,n,s){super(r,n);S(this,ne);E(this,ne,s)}clone(){return new $t(this.selection,{...this.operations},d(this,ne))}commit(r){if(!d(this,ne))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",s=Object.assign({returnFirst:n,returnDocuments:!0},r);return d(this,ne).mutate({patch:this.serialize()},s)}};ne=new WeakMap;let Z=$t;const sn={returnDocuments:!1};class on{constructor(t=[],r){g(this,"operations");g(this,"trxId");this.operations=t,this.trxId=r}create(t){return ge("create",t),this._add({create:t})}createIfNotExists(t){const r="createIfNotExists";return ge(r,t),Ge(r,t),this._add({[r]:t})}createOrReplace(t){const r="createOrReplace";return ge(r,t),Ge(r,t),this._add({[r]:t})}delete(t){return Yr("delete",t),this._add({delete:{id:t}})}transactionId(t){return t?(this.trxId=t,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(t){return this.operations.push(t),this}}var U;const Tt=class Tt extends on{constructor(r,n,s){super(r,s);S(this,U);E(this,U,n)}clone(){return new Tt([...this.operations],d(this,U),this.trxId)}commit(r){if(!d(this,U))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return d(this,U).mutate(this.serialize(),Object.assign({transactionId:this.trxId},sn,r||{}))}patch(r,n){const s=typeof n=="function",i=typeof r!="string"&&r instanceof Z,o=typeof r=="object"&&("query"in r||"id"in r);if(i)return this._add({patch:r.serialize()});if(s){const a=n(new Z(r,{},d(this,U)));if(!(a instanceof Z))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:a.serialize()})}if(o){const a=new Z(r,n||{},d(this,U));return this._add({patch:a.serialize()})}return this._add({patch:{id:r,...n}})}};U=new WeakMap;let Ye=Tt;var V;const kt=class kt extends on{constructor(r,n,s){super(r,s);S(this,V);E(this,V,n)}clone(){return new kt([...this.operations],d(this,V),this.trxId)}commit(r){if(!d(this,V))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return d(this,V).mutate(this.serialize(),Object.assign({transactionId:this.trxId},sn,r||{}))}patch(r,n){const s=typeof n=="function";if(typeof r!="string"&&r instanceof ie)return this._add({patch:r.serialize()});if(s){const i=n(new ie(r,{},d(this,V)));if(!(i instanceof ie))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:r,...n}})}};V=new WeakMap;let Qe=kt;const Gi="X-Sanity-Project-ID";function Yi(e,t={}){const r={},n=t.token||e.token;n&&(r.Authorization=`Bearer ${n}`),!t.useGlobalApi&&!e.useProjectHostname&&e.projectId&&(r[Gi]=e.projectId);const s=!!(typeof t.withCredentials>"u"?e.withCredentials:t.withCredentials),i=typeof t.timeout>"u"?e.timeout:t.timeout;return Object.assign({},t,{headers:Object.assign({},r,t.headers||{}),timeout:typeof i>"u"?5*60*1e3:i,proxy:t.proxy||e.proxy,json:!0,withCredentials:s,fetch:typeof t.fetch=="object"&&typeof e.fetch=="object"?{...e.fetch,...t.fetch}:t.fetch||e.fetch})}const an=({query:e,params:t={},options:r={}})=>{const n=new URLSearchParams,{tag:s,includeMutations:i,returnQuery:o,...a}=r;s&&n.append("tag",s),n.append("query",e);for(const[c,u]of Object.entries(t))n.append(`$${c}`,JSON.stringify(u));for(const[c,u]of Object.entries(a))u&&n.append(c,`${u}`);return o===!1&&n.append("returnQuery","false"),i===!1&&n.append("includeMutations","false"),`?${n}`},Qi=(e,t)=>e===!1?void 0:typeof e>"u"?t:e,Ji=(e={})=>({dryRun:e.dryRun,returnIds:!0,returnDocuments:Qi(e.returnDocuments,!0),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation}),It=e=>e.type==="response",Ki=e=>e.body,Xi=(e,t)=>e.reduce((r,n)=>(r[t(n)]=n,r),Object.create(null)),Zi=11264;function cn(e,t,r,n,s={},i={}){const o="stega"in i?{...r||{},...typeof i.stega=="boolean"?{enabled:i.stega}:i.stega||{}}:r,a=o.enabled?hi(s):s,c=i.filterResponse===!1?p=>p:p=>p.result,{cache:u,next:l,...f}={useAbortSignal:typeof i.signal<"u",resultSourceMap:o.enabled?"withKeyArraySelector":i.resultSourceMap,...i,returnQuery:i.filterResponse===!1&&i.returnQuery!==!1},m=typeof u<"u"||typeof l<"u"?{...f,fetch:{cache:u,next:l}}:f,h=ye(e,t,"query",{query:n,params:a},m);return o.enabled?h.pipe(ni(Me(dr(()=>import("./stegaEncodeSourceMap-DdN2qWTc.js"),[]).then(function(p){return p.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:p})=>p))),k(([p,y])=>{const v=y(p.result,p.resultSourceMap,o);return c({...p,result:v})})):h.pipe(k(c))}function un(e,t,r,n={}){const s={uri:R(e,"doc",r),json:!0,tag:n.tag,signal:n.signal};return Fe(e,t,s).pipe(pe(It),k(i=>i.body.documents&&i.body.documents[0]))}function ln(e,t,r,n={}){const s={uri:R(e,"doc",r.join(",")),json:!0,tag:n.tag,signal:n.signal};return Fe(e,t,s).pipe(pe(It),k(i=>{const o=Xi(i.body.documents||[],a=>a._id);return r.map(a=>o[a]||null)}))}function fn(e,t,r,n){return Ge("createIfNotExists",r),tt(e,t,r,"createIfNotExists",n)}function dn(e,t,r,n){return Ge("createOrReplace",r),tt(e,t,r,"createOrReplace",n)}function hn(e,t,r,n){return ye(e,t,"mutate",{mutations:[{delete:rn(r)}]},n)}function pn(e,t,r,n){let s;r instanceof Z||r instanceof ie?s={patch:r.serialize()}:r instanceof Ye||r instanceof Qe?s=r.serialize():s=r;const i=Array.isArray(s)?s:[s],o=n&&n.transactionId||void 0;return ye(e,t,"mutate",{mutations:i,transactionId:o},n)}function yn(e,t,r,n){const s=Array.isArray(r)?r:[r],i=n&&n.transactionId||void 0,o=n&&n.skipCrossDatasetReferenceValidation||void 0,a=n&&n.dryRun||void 0;return ye(e,t,"actions",{actions:s,transactionId:i,skipCrossDatasetReferenceValidation:o,dryRun:a},n)}function ye(e,t,r,n,s={}){const i=r==="mutate",o=r==="actions",a=r==="query",c=i||o?"":an(n),u=!i&&!o&&c.length<Zi,l=u?c:"",f=s.returnFirst,{timeout:m,token:h,tag:p,headers:y,returnQuery:v,lastLiveEventId:w,cacheMode:b}=s,C=R(e,r,l),I={method:u?"GET":"POST",uri:C,json:!0,body:u?void 0:n,query:i&&Ji(s),timeout:m,headers:y,token:h,tag:p,returnQuery:v,perspective:s.perspective,resultSourceMap:s.resultSourceMap,lastLiveEventId:Array.isArray(w)?w[0]:w,cacheMode:b,canUseCdn:a,signal:s.signal,fetch:s.fetch,useAbortSignal:s.useAbortSignal,useCdn:s.useCdn};return Fe(e,t,I).pipe(pe(It),k(Ki),k(_=>{if(!i)return _;const P=_.results||[];if(s.returnDocuments)return f?P[0]&&P[0].document:P.map(rt=>rt.document);const Ln=f?"documentId":"documentIds",Mn=f?P[0]&&P[0].id:P.map(rt=>rt.id);return{transactionId:_.transactionId,results:P,[Ln]:Mn}}))}function tt(e,t,r,n,s={}){const i={[n]:r},o=Object.assign({returnFirst:!0,returnDocuments:!0},s);return ye(e,t,"mutate",{mutations:[i]},o)}const qe=e=>e.config().dataset!==void 0&&e.config().projectId!==void 0||e.config()["~experimental_resource"]!==void 0,mn=(e,t)=>qe(e)&&t.startsWith(R(e,"query")),eo=(e,t)=>qe(e)&&t.startsWith(R(e,"mutate")),to=(e,t)=>qe(e)&&t.startsWith(R(e,"doc","")),ro=(e,t)=>qe(e)&&t.startsWith(R(e,"listen")),no=(e,t)=>qe(e)&&t.startsWith(R(e,"history","")),so=(e,t)=>t.startsWith("/data/")||mn(e,t)||eo(e,t)||to(e,t)||ro(e,t)||no(e,t);function Fe(e,t,r){const n=r.url||r.uri,s=e.config(),i=typeof r.canUseCdn>"u"?["GET","HEAD"].indexOf(r.method||"GET")>=0&&so(e,n):r.canUseCdn;let o=(r.useCdn??s.useCdn)&&i;const a=r.tag&&s.requestTagPrefix?[s.requestTagPrefix,r.tag].join("."):r.tag||s.requestTagPrefix;if(a&&r.tag!==null&&(r.query={tag:Jr(a),...r.query}),["GET","HEAD","POST"].indexOf(r.method||"GET")>=0&&mn(e,n)){const l=r.resultSourceMap??s.resultSourceMap;l!==void 0&&l!==!1&&(r.query={resultSourceMap:l,...r.query});const f=r.perspective||s.perspective;typeof f<"u"&&(f==="previewDrafts"&&Pi(),Xr(f),r.query={perspective:Array.isArray(f)?f.join(","):f,...r.query},(Array.isArray(f)&&f.length>0||f==="previewDrafts"||f==="drafts")&&o&&(o=!1,_i())),r.lastLiveEventId&&(r.query={...r.query,lastLiveEventId:r.lastLiveEventId}),r.returnQuery===!1&&(r.query={returnQuery:"false",...r.query}),o&&r.cacheMode=="noStale"&&(r.query={cacheMode:"noStale",...r.query})}const c=Yi(s,Object.assign({},r,{url:At(e,n,o)})),u=new A(l=>t(c,s.requester).subscribe(l));return r.signal?u.pipe(io(r.signal)):u}function L(e,t,r){return Fe(e,t,r).pipe(pe(n=>n.type==="response"),k(n=>n.body))}function R(e,t,r){const n=e.config();if(n["~experimental_resource"]){Kr(n);const o=co(n),a=r!==void 0?`${t}/${r}`:t;return`${o}/${a}`.replace(/\/($|\?)/,"$1")}const s=Qr(n),i=`/${t}/${s}`;return`/data${r!==void 0?`${i}/${r}`:i}`.replace(/\/($|\?)/,"$1")}function At(e,t,r=!1){const{url:n,cdnUrl:s}=e.config();return`${r?s:n}/${t.replace(/^\//,"")}`}function io(e){return t=>new A(r=>{const n=()=>r.error(ao(e));if(e&&e.aborted){n();return}const s=t.subscribe(r);return e.addEventListener("abort",n),()=>{e.removeEventListener("abort",n),s.unsubscribe()}})}const oo=!!globalThis.DOMException;function ao(e){if(oo)return new DOMException(e?.reason??"The operation was aborted.","AbortError");const t=new Error(e?.reason??"The operation was aborted.");return t.name="AbortError",t}const co=e=>{if(!e["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:t,id:r}=e["~experimental_resource"];switch(t){case"dataset":{const n=r.split(".");if(n.length!==2)throw new Error('Dataset ID must be in the format "project.dataset"');return`/projects/${n[0]}/datasets/${n[1]}`}case"canvas":return`/canvases/${r}`;case"media-library":return`/media-libraries/${r}`;case"dashboard":return`/dashboards/${r}`;default:throw new Error(`Unsupported resource type: ${t.toString()}`)}};var Ae,xe;class uo{constructor(t,r){S(this,Ae);S(this,xe);E(this,Ae,t),E(this,xe,r)}upload(t,r,n){return vn(d(this,Ae),d(this,xe),t,r,n)}}Ae=new WeakMap,xe=new WeakMap;var $e,Te;class lo{constructor(t,r){S(this,$e);S(this,Te);E(this,$e,t),E(this,Te,r)}upload(t,r,n){const s=vn(d(this,$e),d(this,Te),t,r,n);return T(s.pipe(pe(i=>i.type==="response"),k(i=>i.body.document)))}}$e=new WeakMap,Te=new WeakMap;function vn(e,t,r,n,s={}){Ai(r);let i=s.extract||void 0;i&&!i.length&&(i=["none"]);const o=e.config(),a=ho(s,n),{tag:c,label:u,title:l,description:f,creditLine:m,filename:h,source:p}=a,y={label:u,title:l,description:f,filename:h,meta:i,creditLine:m};return p&&(y.sourceId=p.id,y.sourceName=p.name,y.sourceUrl=p.url),Fe(e,t,{tag:c,method:"POST",timeout:a.timeout||0,uri:fo(o,r),headers:a.contentType?{"Content-Type":a.contentType}:{},query:y,body:n})}function fo(e,t){const r=t==="image"?"images":"files";if(e["~experimental_resource"]){const{type:s,id:i}=e["~experimental_resource"];switch(s){case"dataset":throw new Error("Assets are not supported for dataset resources, yet. Configure the client with `{projectId: <projectId>, dataset: <datasetId>}` instead.");case"canvas":return`/canvases/${i}/assets/${r}`;case"media-library":return`/media-libraries/${i}/upload`;case"dashboard":return`/dashboards/${i}/assets/${r}`;default:throw new Error(`Unsupported resource type: ${s.toString()}`)}}const n=Qr(e);return`assets/${r}/${n}`}function ho(e,t){return typeof File>"u"||!(t instanceof File)?e:Object.assign({filename:e.preserveFilename===!1?void 0:t.name,contentType:t.type},e)}var po=(e,t)=>Object.keys(t).concat(Object.keys(e)).reduce((r,n)=>(r[n]=typeof e[n]>"u"?t[n]:e[n],r),{});const yo=(e,t)=>t.reduce((r,n)=>(typeof e[n]>"u"||(r[n]=e[n]),r),{}),gn=Nr(()=>dr(()=>import("./browser-DmKxzMLV.js").then(e=>e.b),[])).pipe(k(({default:e})=>e),si(1));function bn(){return function(e){return e.pipe(St((t,r)=>t instanceof en?Ur(et({type:"reconnect"}),Zs(1e3).pipe(De(()=>r))):qr(()=>t)))}}const mo=14800,vo=["includePreviousRevision","includeResult","includeMutations","includeAllVersions","visibility","effectFormat","tag"],go={includeResult:!0};function wn(e,t,r={}){const{url:n,token:s,withCredentials:i,requestTagPrefix:o}=this.config(),a=r.tag&&o?[o,r.tag].join("."):r.tag,c={...po(r,go),tag:a},u=yo(c,vo),l=an({query:e,params:t,options:{tag:a,...u}}),f=`${n}${R(this,"listen",l)}`;if(f.length>mo)return qr(()=>new Error("Query too large for listener"));const m=c.events?c.events:["mutation"],h={};return i&&(h.withCredentials=!0),s&&(h.headers={Authorization:`Bearer ${s}`}),tn(()=>(typeof EventSource>"u"||h.headers?gn:et(EventSource)).pipe(k(p=>new p(f,h))),m).pipe(bn(),pe(p=>m.includes(p.type)),k(p=>({type:p.type,..."data"in p?p.data:{}})))}function bo(e,t){return wo(typeof e=="function"?{predicate:e,...t}:e)}function wo(e){return t=>{let r,n=!1;const{predicate:s,...i}=e,o=t.pipe(ii(c=>{e.predicate(c)&&(n=!0,r=c)}),Hr(()=>{n=!1,r=void 0}),zr(i)),a=new A(c=>{n&&c.next(r),c.complete()});return ei(o,a)}}const nr="2021-03-25";var G;class En{constructor(t){S(this,G);E(this,G,t)}events({includeDrafts:t=!1,tag:r}={}){M("live",d(this,G).config());const{projectId:n,apiVersion:s,token:i,withCredentials:o,requestTagPrefix:a}=d(this,G).config(),c=s.replace(/^v/,"");if(c!=="X"&&c<nr)throw new Error(`The live events API requires API version ${nr} or later. The current API version is ${c}. Please update your API version to use this feature.`);if(t&&!i&&!o)throw new Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");const u=R(d(this,G),"live/events"),l=new URL(d(this,G).getUrl(u,!1)),f=r&&a?[a,r].join("."):r;f&&l.searchParams.set("tag",f),t&&l.searchParams.set("includeDrafts","true");const m={};t&&i&&(m.headers={Authorization:`Bearer ${i}`}),t&&o&&(m.withCredentials=!0);const h=`${l.href}::${JSON.stringify(m)}`,p=ot.get(h);if(p)return p;const y=tn(()=>(typeof EventSource>"u"||m.headers?gn:et(EventSource)).pipe(k(b=>new b(l.href,m))),["message","restart","welcome","reconnect","goaway"]).pipe(bn(),k(b=>{if(b.type==="message"){const{data:C,...I}=b;return{...I,tags:C.tags}}return b})),v=Eo(l,{method:"OPTIONS",mode:"cors",credentials:m.withCredentials?"include":"omit",headers:m.headers}).pipe(De(()=>Or),St(()=>{throw new wi({projectId:n})})),w=Ur(v,y).pipe(Hr(()=>ot.delete(h)),bo({predicate:b=>b.type==="welcome"}));return ot.set(h,w),w}}G=new WeakMap;function Eo(e,t){return new A(r=>{const n=new AbortController,s=n.signal;return fetch(e,{...t,signal:n.signal}).then(i=>{r.next(i),r.complete()},i=>{s.aborted||r.error(i)}),()=>n.abort()})}const ot=new Map;var Y,Q;class So{constructor(t,r){S(this,Y);S(this,Q);E(this,Y,t),E(this,Q,r)}create(t,r){return ue(d(this,Y),d(this,Q),"PUT",t,r)}edit(t,r){return ue(d(this,Y),d(this,Q),"PATCH",t,r)}delete(t){return ue(d(this,Y),d(this,Q),"DELETE",t)}list(){return L(d(this,Y),d(this,Q),{uri:"/datasets",tag:null})}}Y=new WeakMap,Q=new WeakMap;var j,J;class Co{constructor(t,r){S(this,j);S(this,J);E(this,j,t),E(this,J,r)}create(t,r){return M("dataset",d(this,j).config()),T(ue(d(this,j),d(this,J),"PUT",t,r))}edit(t,r){return M("dataset",d(this,j).config()),T(ue(d(this,j),d(this,J),"PATCH",t,r))}delete(t){return M("dataset",d(this,j).config()),T(ue(d(this,j),d(this,J),"DELETE",t))}list(){return M("dataset",d(this,j).config()),T(L(d(this,j),d(this,J),{uri:"/datasets",tag:null}))}}j=new WeakMap,J=new WeakMap;function ue(e,t,r,n,s){return M("dataset",e.config()),Gr(n),L(e,t,{method:r,uri:`/datasets/${n}`,body:s,tag:null})}var K,fe;class Oo{constructor(t,r){S(this,K);S(this,fe);E(this,K,t),E(this,fe,r)}list(t){M("projects",d(this,K).config());const r=t?.includeMembers===!1?"/projects?includeMembers=false":"/projects";return L(d(this,K),d(this,fe),{uri:r})}getById(t){return M("projects",d(this,K).config()),L(d(this,K),d(this,fe),{uri:`/projects/${t}`})}}K=new WeakMap,fe=new WeakMap;var X,de;class Io{constructor(t,r){S(this,X);S(this,de);E(this,X,t),E(this,de,r)}list(t){M("projects",d(this,X).config());const r=t?.includeMembers===!1?"/projects?includeMembers=false":"/projects";return T(L(d(this,X),d(this,de),{uri:r}))}getById(t){return M("projects",d(this,X).config()),T(L(d(this,X),d(this,de),{uri:`/projects/${t}`}))}}X=new WeakMap,de=new WeakMap;var ke,_e;class Ao{constructor(t,r){S(this,ke);S(this,_e);E(this,ke,t),E(this,_e,r)}getById(t){return L(d(this,ke),d(this,_e),{uri:`/users/${t}`})}}ke=new WeakMap,_e=new WeakMap;var Pe,je;class xo{constructor(t,r){S(this,Pe);S(this,je);E(this,Pe,t),E(this,je,r)}getById(t){return T(L(d(this,Pe),d(this,je),{uri:`/users/${t}`}))}}Pe=new WeakMap,je=new WeakMap;var N,$;const Ke=class Ke{constructor(t,r=be){g(this,"assets");g(this,"datasets");g(this,"live");g(this,"projects");g(this,"users");S(this,N);S(this,$);g(this,"listen",wn);this.config(r),E(this,$,t),this.assets=new uo(this,d(this,$)),this.datasets=new So(this,d(this,$)),this.live=new En(this),this.projects=new Oo(this,d(this,$)),this.users=new Ao(this,d(this,$))}clone(){return new Ke(d(this,$),this.config())}config(t){if(t===void 0)return{...d(this,N)};if(d(this,N)&&d(this,N).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return E(this,N,Zr(t,d(this,N)||{})),this}withConfig(t){const r=this.config();return new Ke(d(this,$),{...r,...t,stega:{...r.stega||{},...typeof t?.stega=="boolean"?{enabled:t.stega}:t?.stega||{}}})}fetch(t,r,n){return cn(this,d(this,$),d(this,N).stega,t,r,n)}getDocument(t,r){return un(this,d(this,$),t,r)}getDocuments(t,r){return ln(this,d(this,$),t,r)}create(t,r){return tt(this,d(this,$),t,"create",r)}createIfNotExists(t,r){return fn(this,d(this,$),t,r)}createOrReplace(t,r){return dn(this,d(this,$),t,r)}delete(t,r){return hn(this,d(this,$),t,r)}mutate(t,r){return pn(this,d(this,$),t,r)}patch(t,r){return new ie(t,r,this)}transaction(t){return new Qe(t,this)}action(t,r){return yn(this,d(this,$),t,r)}request(t){return L(this,d(this,$),t)}getUrl(t,r){return At(this,t,r)}getDataUrl(t,r){return R(this,t,r)}};N=new WeakMap,$=new WeakMap;let lt=Ke;var B,x;const Xe=class Xe{constructor(t,r=be){g(this,"assets");g(this,"datasets");g(this,"live");g(this,"projects");g(this,"users");g(this,"observable");S(this,B);S(this,x);g(this,"listen",wn);this.config(r),E(this,x,t),this.assets=new lo(this,d(this,x)),this.datasets=new Co(this,d(this,x)),this.live=new En(this),this.projects=new Io(this,d(this,x)),this.users=new xo(this,d(this,x)),this.observable=new lt(t,r)}clone(){return new Xe(d(this,x),this.config())}config(t){if(t===void 0)return{...d(this,B)};if(d(this,B)&&d(this,B).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(t),E(this,B,Zr(t,d(this,B)||{})),this}withConfig(t){const r=this.config();return new Xe(d(this,x),{...r,...t,stega:{...r.stega||{},...typeof t?.stega=="boolean"?{enabled:t.stega}:t?.stega||{}}})}fetch(t,r,n){return T(cn(this,d(this,x),d(this,B).stega,t,r,n))}getDocument(t,r){return T(un(this,d(this,x),t,r))}getDocuments(t,r){return T(ln(this,d(this,x),t,r))}create(t,r){return T(tt(this,d(this,x),t,"create",r))}createIfNotExists(t,r){return T(fn(this,d(this,x),t,r))}createOrReplace(t,r){return T(dn(this,d(this,x),t,r))}delete(t,r){return T(hn(this,d(this,x),t,r))}mutate(t,r){return T(pn(this,d(this,x),t,r))}patch(t,r){return new Z(t,r,this)}transaction(t){return new Ye(t,this)}action(t,r){return T(yn(this,d(this,x),t,r))}request(t){return T(L(this,d(this,x),t))}dataRequest(t,r,n){return T(ye(this,d(this,x),t,r,n))}getUrl(t,r){return At(this,t,r)}getDataUrl(t,r){return R(this,t,r)}};B=new WeakMap,x=new WeakMap;let ft=Xe;function $o(e,t){return{requester:Xt(e),createClient:r=>{const n=Xt(e);return new t((s,i)=>(i||n)({maxRedirects:0,maxRetries:r.maxRetries,retryDelay:r.retryDelay,...s}),r)}}}var To=[];const ko=$o(To,ft),_o=ko.createClient;function sr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sr(Object(r),!0).forEach(function(n){Po(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Po(e,t,r){return(t=jo(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jo(e){var t=Ro(e,"string");return typeof t=="symbol"?t:t+""}function Ro(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Je(e){return e._type==="span"&&"text"in e&&typeof e.text=="string"&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"))}function Sn(e){return typeof e._type=="string"&&e._type[0]!=="@"&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(t=>typeof t._key=="string"))&&"children"in e&&Array.isArray(e.children)&&e.children.every(t=>typeof t=="object"&&"_type"in t)}function Cn(e){return Sn(e)&&"listItem"in e&&typeof e.listItem=="string"&&(typeof e.level>"u"||typeof e.level=="number")}function On(e){return e._type==="@list"}function In(e){return e._type==="@span"}function An(e){return e._type==="@text"}const or=["strong","em","code","underline","strike-through"];function Lo(e,t,r){if(!Je(e)||!e.marks)return[];if(!e.marks.length)return[];const n=e.marks.slice(),s={};return n.forEach(i=>{s[i]=1;for(let o=t+1;o<r.length;o++){const a=r[o];if(a&&Je(a)&&Array.isArray(a.marks)&&a.marks.indexOf(i)!==-1)s[i]++;else break}}),n.sort((i,o)=>Mo(s,i,o))}function Mo(e,t,r){const n=e[t],s=e[r];if(n!==s)return s-n;const i=or.indexOf(t),o=or.indexOf(r);return i!==o?i-o:t.localeCompare(r)}function Do(e){var t,r;const{children:n}=e,s=(t=e.markDefs)!=null?t:[];if(!n||!n.length)return[];const i=n.map(Lo),o={_type:"@span",children:[],markType:"<unknown>"};let a=[o];for(let c=0;c<n.length;c++){const u=n[c];if(!u)continue;const l=i[c]||[];let f=1;if(a.length>1)for(f;f<a.length;f++){const h=((r=a[f])==null?void 0:r.markKey)||"",p=l.indexOf(h);if(p===-1)break;l.splice(p,1)}a=a.slice(0,f);let m=a[a.length-1];if(m){for(const h of l){const p=s?.find(w=>w._key===h),y=p?p._type:h,v={_type:"@span",_key:u._key,children:[],markDef:p,markType:y,markKey:h};m.children.push(v),a.push(v),m=v}if(Je(u)){const h=u.text.split(`
`);for(let p=h.length;p-- >1;)h.splice(p,0,`
`);m.children=m.children.concat(h.map(p=>({_type:"@text",text:p})))}else m.children=m.children.concat(u)}}return o.children}function qo(e,t){const r=[];let n;for(let s=0;s<e.length;s++){const i=e[s];if(i){if(!Cn(i)){r.push(i),n=void 0;continue}if(!n){n=He(i,s,t),r.push(n);continue}if(Fo(i,n)){n.children.push(i);continue}if((i.level||1)>n.level){const o=He(i,s,t);{const a=n.children[n.children.length-1],c=ir(ir({},a),{},{children:[...a.children,o]});n.children[n.children.length-1]=c}n=o;continue}if((i.level||1)<n.level){const o=r[r.length-1],a=o&&dt(o,i);if(a){n=a,n.children.push(i);continue}n=He(i,s,t),r.push(n);continue}if(i.listItem!==n.listItem){const o=r[r.length-1],a=o&&dt(o,{level:i.level||1});if(a&&a.listItem===i.listItem){n=a,n.children.push(i);continue}else{n=He(i,s,t),r.push(n);continue}}console.warn("Unknown state encountered for block",i),r.push(i)}}return r}function Fo(e,t){return(e.level||1)===t.level&&e.listItem===t.listItem}function He(e,t,r){return{_type:"@list",_key:`${e._key||`${t}`}-parent`,mode:r,level:e.level||1,listItem:e.listItem,children:[e]}}function dt(e,t){const r=t.level||1,n=t.listItem||"normal",s=typeof t.listItem=="string";if(On(e)&&(e.level||1)===r&&s&&(e.listItem||"normal")===n)return e;if(!("children"in e))return;const i=e.children[e.children.length-1];return i&&!Je(i)?dt(i,t):void 0}function xn(e){let t="";return e.children.forEach(r=>{An(r)?t+=r.text:In(r)&&(t+=xn(r))}),t}const Uo=["block","list","listItem","marks","types"],No=["listItem"],Bo=["_key"];function ar(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ar(Object(r),!0).forEach(function(n){Ho(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ar(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ho(e,t,r){return(t=zo(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zo(e){var t=Wo(e,"string");return typeof t=="symbol"?t:t+""}function Wo(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ht(e,t){if(e==null)return{};var r,n,s=Vo(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Vo(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}const Go=["http","https","mailto","tel"],Yo={"&":"amp","<":"lt",">":"gt",'"':"quot","'":"#x27"};function $n(e){return Qo(e.replace(/[&<>"']/g,t=>`&${Yo[t]};`))}function Qo(e){return e.replace(/ {2,}/g,t=>`${"&nbsp;".repeat(t.length-1)} `)}function Jo(e){const t=(e||"").trim(),r=t.charAt(0);if(r==="#"||r==="/")return!0;const n=t.indexOf(":");if(n===-1)return!0;const s=t.slice(0,n).toLowerCase();if(Go.indexOf(s)!==-1)return!0;const i=t.indexOf("?");if(i!==-1&&n>i)return!0;const o=t.indexOf("#");return o!==-1&&n>o}const Ko={number:({children:e})=>`<ol>${e}</ol>`,bullet:({children:e})=>`<ul>${e}</ul>`},Xo=({children:e})=>`<li>${e}</li>`,Zo=({children:e,value:t})=>{const r=t?.href||"";return Jo(r)?`<a href="${$n(r)}">${e}</a>`:e},ea={em:({children:e})=>`<em>${e}</em>`,strong:({children:e})=>`<strong>${e}</strong>`,code:({children:e})=>`<code>${e}</code>`,underline:({children:e})=>`<span style="text-decoration:underline">${e}</span>`,"strike-through":({children:e})=>`<del>${e}</del>`,link:Zo},Ue=(e,t)=>`Unknown ${e}, specify a component for it in the \`components.${t}\` option`,Tn=e=>Ue(`block type "${e}"`,"types"),ta=e=>Ue(`mark type "${e}"`,"marks"),ra=e=>Ue(`block style "${e}"`,"block"),na=e=>Ue(`list style "${e}"`,"list"),sa=e=>Ue(`list item style "${e}"`,"listItem");function ia(e){console.warn(e)}const oa=({value:e,isInline:t})=>{const r=Tn(e._type);return t?`<span style="display:none">${r}</span>`:`<div style="display:none">${r}</div>`},aa=({markType:e,children:t})=>`<span class="unknown__pt__mark__${e}">${t}</span>`,ca=({children:e})=>`<p>${e}</p>`,ua=({children:e})=>`<ul>${e}</ul>`,la=({children:e})=>`<li>${e}</li>`,fa=()=>"<br/>",da={normal:({children:e})=>`<p>${e}</p>`,blockquote:({children:e})=>`<blockquote>${e}</blockquote>`,h1:({children:e})=>`<h1>${e}</h1>`,h2:({children:e})=>`<h2>${e}</h2>`,h3:({children:e})=>`<h3>${e}</h3>`,h4:({children:e})=>`<h4>${e}</h4>`,h5:({children:e})=>`<h5>${e}</h5>`,h6:({children:e})=>`<h6>${e}</h6>`},cr={types:{},block:da,marks:ea,list:Ko,listItem:Xo,hardBreak:fa,escapeHTML:$n,unknownType:oa,unknownMark:aa,unknownList:ua,unknownListItem:la,unknownBlockStyle:ca};function ha(e,t){const{block:r,list:n,listItem:s,marks:i,types:o}=t,a=ht(t,Uo);return ee(ee({},e),{},{block:me(e,t,"block"),list:me(e,t,"list"),listItem:me(e,t,"listItem"),marks:me(e,t,"marks"),types:me(e,t,"types")},a)}function me(e,t,r){const n=t[r],s=e[r];return typeof n=="function"||n&&typeof s=="function"?n:n?ee(ee({},s),n):s}function pa(e,t={}){const{components:r,onMissingComponent:n=ia}=t,s=n||ma,i=Array.isArray(e)?e:[e],o=qo(i,"html"),a=r?ha(cr,r):cr,c=ya(a,s);return o.map((u,l)=>c({node:u,index:l,isInline:!1,renderNode:c})).join("")}const ya=(e,t)=>{function r(u){const{node:l,index:f,isInline:m}=u;return On(l)?s(l,f):Cn(l)?n(l,f):In(l)?i(l):Sn(l)?o(l,f,m):An(l)?a(l):c(l,f,m)}function n(u,l){const f=ur({node:u,index:l,isInline:!1,renderNode:r}),m=e.listItem,h=(typeof m=="function"?m:m[u.listItem])||e.unknownListItem;if(h===e.unknownListItem){const y=u.listItem||"bullet";t(sa(y),{type:y,nodeType:"listItemStyle"})}let p=f.children;if(u.style&&u.style!=="normal"){const{listItem:y}=u,v=ht(u,No);p=r({node:v,index:l,isInline:!1})}return h({value:u,index:l,isInline:!1,renderNode:r,children:p})}function s(u,l){const f=u.children.map((p,y)=>r({node:p._key?p:ee(ee({},p),{},{_key:`li-${l}-${y}`}),index:y,isInline:!1})),m=e.list,h=(typeof m=="function"?m:m[u.listItem])||e.unknownList;if(h===e.unknownList){const p=u.listItem||"bullet";t(na(p),{nodeType:"listStyle",type:p})}return h({value:u,index:l,isInline:!1,renderNode:r,children:f.join("")})}function i(u){const{markDef:l,markType:f,markKey:m}=u,h=e.marks[f]||e.unknownMark,p=u.children.map((y,v)=>r({node:y,index:v,isInline:!0}));return h===e.unknownMark&&t(ta(f),{nodeType:"mark",type:f}),h({text:xn(u),value:l,markType:f,markKey:m,renderNode:r,children:p.join("")})}function o(u,l,f){const m=ur({node:u,index:l,isInline:f,renderNode:r}),{_key:h}=m,p=ht(m,Bo),y=p.node.style||"normal",v=(typeof e.block=="function"?e.block:e.block[y])||e.unknownBlockStyle;return v===e.unknownBlockStyle&&t(ra(y),{nodeType:"blockStyle",type:y}),v(ee(ee({},p),{},{value:p.node,renderNode:r}))}function a(u){if(u.text===`
`){const l=e.hardBreak;return l?l():`
`}return e.escapeHTML(u.text)}function c(u,l,f){const m=e.types[u._type];return m||t(Tn(u._type),{nodeType:"block",type:u._type}),(m||e.unknownType)({value:u,isInline:f,index:l,renderNode:r})}return r};function ur(e){const{node:t,index:r,isInline:n,renderNode:s}=e,i=Do(t).map((o,a)=>s({node:o,isInline:!0,index:a,renderNode:s}));return{_key:t._key||`block-${r}`,children:i.join(""),index:r,isInline:n,node:t}}function ma(){}const kn=_o({projectId:"YOUR_PROJECT_ID",dataset:"production",useCdn:!0,apiVersion:"2026-02-22"});async function _n(){return kn.fetch(`
    *[_type == "post" && defined(slug.current)] | order(publishedAt desc) {
      _id,
      title,
      slug,
      excerpt,
      publishedAt,
      tags,
      category,
      "coverImage": coverImage.asset->url
    }
  `)}async function va(e){return kn.fetch(`
    *[_type == "post" && slug.current == $slug][0] {
      _id,
      title,
      slug,
      excerpt,
      publishedAt,
      tags,
      category,
      body,
      "coverImage": coverImage.asset->url,
      "coverAlt": coverImage.alt
    }
  `,{slug:e})}function ga(e){return e?pa(e,{components:{types:{image:({value:t})=>`
          <figure class="post-image">
            <img src="${t?.asset?.url??""}" alt="${t?.alt??""}" loading="lazy" />
            ${t?.caption?`<figcaption>${t.caption}</figcaption>`:""}
          </figure>
        `}}}):""}const lr="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*<>?/\\[]{}=-+";function ba(e,t,r=900){const n=Math.round(r/28),s=t.split("");let i=0;const o=setInterval(()=>{e.textContent=s.map((a,c)=>a===" "||a===`
`||i/n>c/s.length?a:lr[Math.floor(Math.random()*lr.length)]).join(""),i++,i>n&&(e.textContent=t,clearInterval(o))},28)}async function Pn(e){e.innerHTML=`
    <section class="hero">
      <div class="hero-inner container">
        <div class="hero-eyebrow">
          <span class="eyebrow-line" aria-hidden="true"></span>
          <span class="eyebrow-text">TRANSMISSION INCOMING</span>
          <span class="eyebrow-line" aria-hidden="true"></span>
        </div>
        <h1 class="hero-title">
          <span class="hero-title-line" data-scramble="CHRONICLES">CHRONICLES</span>
          <span class="hero-title-line accent" data-scramble="OF THE VOID">OF THE VOID</span>
        </h1>
        <p class="hero-sub">Dispatches from the outer systems. Gaming, lore, and life at the edge of the map.</p>
        <div class="hero-stats" aria-label="Character stats">
          <div class="stat">
            <span class="stat-label">CLASS</span>
            <span class="stat-value">EXPLORER</span>
          </div>
          <span class="stat-divider" aria-hidden="true">//</span>
          <div class="stat">
            <span class="stat-label">STATUS</span>
            <span class="stat-value online">ACTIVE</span>
          </div>
          <span class="stat-divider" aria-hidden="true">//</span>
          <div class="stat">
            <span class="stat-label">SECTOR</span>
            <span class="stat-value">RESTEDXP</span>
          </div>
        </div>
      </div>
    </section>

    <section class="posts-section">
      <div class="container">
        <div class="section-header">
          <h2 class="section-title">
            <span class="title-bracket" aria-hidden="true">//</span>
            LATEST TRANSMISSIONS
          </h2>
          <div class="section-line" aria-hidden="true"></div>
        </div>
        <div id="post-grid" class="post-grid" role="list">
          <div class="loading-state" role="status">
            <div class="loading-spinner" aria-hidden="true"></div>
            <span>SCANNING DATASTREAM</span>
          </div>
        </div>
      </div>
    </section>
  `,e.querySelectorAll("[data-scramble]").forEach(r=>{const n=r.dataset.scramble;requestAnimationFrame(()=>ba(r,n,1e3))});const t=e.querySelector("#post-grid");try{const r=await _n();if(!r?.length){t.innerHTML='<div class="empty-state">NO TRANSMISSIONS DETECTED  DATASTREAM QUIET</div>';return}t.innerHTML=r.map((n,s)=>Ea(n,s)).join(""),t.querySelectorAll(".post-card").forEach((n,s)=>{n.style.animationDelay=`${s*70}ms`})}catch(r){console.error("[restedxp] getPosts failed:",r),t.innerHTML='<div class="error-state">SIGNAL LOST  UNABLE TO REACH DATASTREAM</div>'}}function wa(e){return e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}).toUpperCase():"UNDATED"}function Ea(e,t){const r=wa(e.publishedAt),n=(e.category||"GENERAL").toUpperCase(),s=t===0,i=e.tags?.map(o=>`<span class="tag">${o}</span>`).join("")??"";return`
    <article class="post-card ${s?"post-card--featured":""}" role="listitem" data-index="${t}">
      <div class="card-inner">
        <header class="card-header">
          <div class="card-meta">
            <span class="card-category">${n}</span>
            <span class="card-date">${r}</span>
          </div>
          ${s?'<div class="featured-badge">FEATURED</div>':""}
        </header>

        ${e.coverImage?`
          <div class="card-image" style="background-image:url('${e.coverImage}')" role="img" aria-label="${e.title} cover image"></div>
        `:""}

        <div class="card-body">
          <h2 class="card-title">${e.title}</h2>
          ${e.excerpt?`<p class="card-excerpt">${e.excerpt}</p>`:""}
          ${i?`<div class="card-tags">${i}</div>`:""}
        </div>

        <footer class="card-footer">
          <a href="#/post/${e.slug.current}" class="card-link">
            <span>READ TRANSMISSION</span>
            <span class="link-arrow" aria-hidden="true"></span>
          </a>
        </footer>
      </div>
      <div class="card-glow" aria-hidden="true"></div>
    </article>
  `}async function Sa(e,t){e.innerHTML=`
    <div class="post-loading container" role="status">
      <div class="loading-spinner" aria-hidden="true"></div>
      <span>DECRYPTING TRANSMISSION</span>
    </div>
  `;try{const r=await va(t);if(!r){e.innerHTML=Ca();return}const n=r.publishedAt?new Date(r.publishedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"UNDATED",s=(r.category||"GENERAL").toUpperCase(),i=r.tags?.map(a=>`<span class="tag">${a}</span>`).join("")??"",o=ga(r.body);e.innerHTML=`
      <article class="post-full">
        <div class="post-full-inner container">

          <nav class="post-breadcrumb" aria-label="Breadcrumb">
            <a href="#/" class="breadcrumb-link">HOME</a>
            <span class="breadcrumb-sep" aria-hidden="true">/</span>
            <span class="breadcrumb-current" aria-current="page">${r.title}</span>
          </nav>

          ${r.coverImage?`
            <div class="post-cover">
              <img src="${r.coverImage}" alt="${r.coverAlt||r.title}" />
              <div class="cover-overlay" aria-hidden="true"></div>
            </div>
          `:""}

          <header class="post-header">
            <div class="post-meta">
              <span class="post-category">${s}</span>
              <span class="meta-sep" aria-hidden="true">//</span>
              <time class="post-date" datetime="${r.publishedAt||""}">${n}</time>
            </div>
            <h1 class="post-title">${r.title}</h1>
            ${r.excerpt?`<p class="post-excerpt">${r.excerpt}</p>`:""}
            ${i?`<div class="post-tags" aria-label="Tags">${i}</div>`:""}
          </header>

          <div class="post-body prose">
            ${o}
          </div>

          <footer class="post-footer">
            <div class="post-footer-line" aria-hidden="true"></div>
            <a href="#/" class="back-btn">
              <span class="back-arrow" aria-hidden="true"></span>
              BACK TO TRANSMISSIONS
            </a>
          </footer>

        </div>
      </article>
    `}catch(r){console.error("[restedxp] getPost failed:",r),e.innerHTML=`
      <div class="error-state container">
        <div class="error-code" aria-hidden="true">ERR</div>
        <div class="error-msg">SIGNAL CORRUPTED  UNABLE TO DECODE</div>
        <a href="#/" class="back-link"> RETURN TO BASE</a>
      </div>
    `}}function Ca(){return`
    <div class="not-found container">
      <div class="error-code" aria-hidden="true">404</div>
      <div class="error-msg">TRANSMISSION NOT FOUND</div>
      <a href="#/" class="back-link"> RETURN TO BASE</a>
    </div>
  `}function Oa(e){e.innerHTML=`
    <section class="about-section">
      <div class="about-inner container">
        <div class="section-header">
          <h2 class="section-title">
            <span class="title-bracket" aria-hidden="true">//</span>
            ABOUT THIS STATION
          </h2>
          <div class="section-line" aria-hidden="true"></div>
        </div>

        <div class="about-panel">
          <p>
            This is <strong>RestedXP</strong>  a personal blog about gaming, worlds,
            and the spaces between. Named after that feeling when you log back in
            fully rested, bar filled, ready for whatever the world throws at you.
          </p>
          <p>
            Expect dispatches on MMOs, RPGs, game design, lore deep-dives, and
            the occasional existential meditation on why we play at all.
          </p>
          <div class="about-stats">
            <div class="about-stat">
              <span class="about-stat-label">ALIGNMENT</span>
              <span class="about-stat-value">CHAOTIC GOOD</span>
            </div>
            <div class="about-stat">
              <span class="about-stat-label">PRIMARY CLASS</span>
              <span class="about-stat-value">WRITER / EXPLORER</span>
            </div>
            <div class="about-stat">
              <span class="about-stat-label">HOME SYSTEM</span>
              <span class="about-stat-value">RESTEDXP.BLOG</span>
            </div>
          </div>
        </div>
      </div>
    </section>
  `}async function Ia(e){e.innerHTML=`
    <section class="archive-section">
      <div class="archive-inner container">
        <div class="section-header">
          <h2 class="section-title">
            <span class="title-bracket" aria-hidden="true">//</span>
            FULL ARCHIVE
          </h2>
          <div class="section-line" aria-hidden="true"></div>
        </div>
        <div id="archive-list" class="archive-list" role="list">
          <div class="loading-state" role="status">
            <div class="loading-spinner" aria-hidden="true"></div>
            <span>INDEXING RECORDS</span>
          </div>
        </div>
      </div>
    </section>
  `;const t=e.querySelector("#archive-list");try{const r=await _n();if(!r?.length){t.innerHTML='<div class="empty-state">NO RECORDS IN ARCHIVE</div>';return}const n=r.reduce((s,i)=>{const o=i.publishedAt?new Date(i.publishedAt).getFullYear():"UNDATED";return(s[o]=s[o]||[]).push(i),s},{});t.innerHTML=Object.entries(n).sort(([s],[i])=>i-s).map(([s,i])=>`
        <div class="archive-year-group" role="listitem">
          <div class="archive-year-label">
            <span class="year-bracket" aria-hidden="true"></span>
            ${s}
          </div>
          <ul class="archive-year-list">
            ${i.map(o=>`
              <li class="archive-item">
                <span class="archive-item-date">
                  ${o.publishedAt?new Date(o.publishedAt).toLocaleDateString("en-US",{month:"short",day:"numeric"}).toUpperCase():""}
                </span>
                <span class="archive-item-category">${(o.category||"GENERAL").toUpperCase()}</span>
                <a href="#/post/${o.slug.current}" class="archive-item-title">${o.title}</a>
              </li>
            `).join("")}
          </ul>
        </div>
      `).join("")}catch(r){console.error("[restedxp] archive fetch failed:",r),t.innerHTML='<div class="error-state">SIGNAL LOST  UNABLE TO LOAD ARCHIVE</div>'}}const Ne=document.getElementById("app");Re("/",()=>Pn(Ne));Re("/archive",()=>Ia(Ne));Re("/about",()=>Oa(Ne));Re("/post/:slug",(e,{slug:t})=>Sa(Ne,t));Re("*",()=>Pn(Ne));Nn(document.getElementById("starfield"));const Aa=document.getElementById("footer-time");function jn(){const t=new Date().toISOString().slice(0,16).replace("T"," ");Aa.textContent=`STARDATE ${t}Z`}jn();setInterval(jn,1e3);function Rn(){const e=window.location.hash.slice(1)||"/";document.querySelectorAll("[data-nav]").forEach(t=>{const r=t.dataset.nav,n=r==="home"&&e==="/"||r==="archive"&&e.startsWith("/archive")||r==="about"&&e.startsWith("/about");t.classList.toggle("active",n),t.setAttribute("aria-current",n?"page":"false")})}window.addEventListener("hashchange",Rn);Rn();Fn();export{Ta as C};
